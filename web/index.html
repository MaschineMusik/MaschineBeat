
<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>Hero Beat</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="robots" content="noindex, nofollow">
    <meta name="googlebot" content="noindex, nofollow">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="style.css">

    <noscript>You need Javascript to run this page</noscript>

    <script>

        soundsPrefix = "http://localhost:8000/sounds/Chugs/HMRhyChugA-"

        sounds = [
            "G.wav",
            "A.wav",
            "C.wav",
            "D.wav",
            "E Hi.wav",
            "G.wav"
        ];

    </script> 

    <script
        type="text/javascript"
        src="audio.js"
    ></script> 

    <script
        type="text/javascript"
        src="midi.js"
    ></script> 

      <script src="https://unpkg.com/wavesurfer.js"></script>


  </head>

  <body>
    <!--- <script src="https://unpkg.com/unmute" data-add-button="true"></script> -->

    <div class="header">
        Hero Beat
    </div>

    <div id="content" class="fretboard">

        <div class="row">
            <div class="button" data-key="q" data-sound="0"></div>
            <div class="button" data-key="1" data-sound="1"></div>

        </div>

        <div class="row">
            <div class="button" data-key="w" data-sound="2"></div>
            <div class="button" data-key="2" data-sound="3"></div>

        </div>

        <div class="row">
            <div class="button" data-key="e" data-sound="4"></div>
            <div class="button" data-key="3" data-sound="5"></div>

        </div>
            
    </div>


    <hr>

    <div id="status">
      <div id="status_message">WAITING</div> 
    </div>


    <hr>

    <div id="media_player">
        <div id="waveform"></div>
    </div>

    <script>
      var wavesurfer = WaveSurfer.create({
          container: '#waveform',
          barWidth: 2,
          barHeight: 1, // the height of the wave
          barGap: null,
          waveColor: 'violet',
          progressColor: 'purple'
      });

      wavesurfer.on('ready', function () {
          console.log("READY")
          wavesurfer.play();
      });

    </script>


    <div id="content">
      <button onclick="wavesurfer.skipBackward()" className="BackButton">
        <<
      </button>

      <button onclick="wavesurfer.playPause()" className="PauseButton">
        Play | Pause
      </button>

      <button onclick="wavesurfer.skipForward()" className="ForwardButton">
        >>
      </button>

      <button onclick="wavesurfer.toggleMute()" className="MuteButton">
        Toggle Mute
      </button>
    </div>
    <hr>

    <div id="device_info">
        <div id="key_data"></div>
    </div>

    <script>
      // tell the embed parent frame the height of the content
      if (window.parent && window.parent.parent){
        window.parent.parent.postMessage(["resultsFrame", {
          height: document.body.getBoundingClientRect().height,
          slug: "upae79bu"
        }], "*")
      }
      // always overwrite window.name, in case users try to set it manually
      window.name = "result"
    </script>

    <script
      type="text/javascript"
      src="main.js"
    ></script> 

</body></html>

